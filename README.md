# Данный репозиторий содержит тесты для проверки работы API интерфейса для тестового проекта


Тестовая коллекция создана на базе Pytest.



## Запуск при помощи докер
Тесты можно запустить в докер контейнере. Для чего, находясь в корневом каталоге, в теминале необходимо выполнить команду:

docker build -t test_api .

Эта команда создаст докер-образ "test_api", который можно запустить слудующей командой:

docker run test_api



## Запуск при помощи проекта Python

Перейти в папку test_api и создать виртуальное окружение:

python -m venv venv

Активировать виртуальное окружение:

source venv/bin/activate

или

source venv\Scripts\activate

Импортировать зависимости:

pip install -r requirements.txt


Для запуска коллекции, находясь в папке test_api, в терминале надо выполнить следующую команду:

pytest -v

по окончании, в терминале выводится сводный результат тестирования

Для получения более детальной информации по процессу тестирования, надо выполнить следующую команду:

pytest -vs

в терминале будет выводится дополнительная информация по каждому тесту

Для выполнения единичного теста, в командной строке необходимо указать конкретный файл для запуска, например:

pytest -vs .\tests\test_users.py


Для получения отчёта о тестировании, в терминале надо выполнить следующую команду:

pytest -v --html=report.html --self-contained-html

после выполнения данной команды, в каталоге test_api, создаётся файл report.html

Файл можно открыть при помощи браузера, он содержит в себе результаты тестов и интерактивные элементы для получения детальной информации по каждому отдельному тесту. Результаты можно фильтровать для просмотра группы тестов с положительным или отрицательным результатами.

## Необходимые условия для работы тестов

Для работы тестов, в папке test_api должен содержаться .env файл, в котором необходимо указать следующие переменные:
- базовый адрес страницы тестирования и дополнение для страницы документации

BASE_URL = "https://hr-challenge.dev.tapyou.com"

DOCS_URL = "/swagger-ui.html?urls.primaryName=QA#/"

SCHEMA_URL = "https://hr-challenge.dev.tapyou.com/v2/api-docs?group=QA"


## Дополнительная информация

Тесты расположенны в папке test_api\tests, каждый файл с соответствующим названием группы в котором находятся методы проверок API, например - test_api/tests/test_users.py

Для задания входных параметров и проверки результатов тестирования, необходимые данные расположены в папке test_api/data

В папке test_api/tools находятся вспомогательные инструменты для выполнения запросов и проверок.


